# Cheat Engine MCP Server

> [!WARNING]
> This project is not feature complete and is under heavy active development.
>
> Things might break while features are added.

A Model Context Protocol (MCP) server plugin for Cheat Engine that provides access to Cheat Engine functionality.

[![FOSSA](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fhedgehogform%2Fce-mcp.svg?type=large&issueType=license)](https://app.fossa.com/projects/git%2Bgithub.com%2Fhedgehogform%2Fce-mcp?ref=badge_large&issueType=license)

## Architecture

This project exposes Cheat Engine functionality as MCP tools over SSE (Server-Sent Events) using the official [Model Context Protocol C# SDK](https://github.com/modelcontextprotocol/csharp-sdk).

- **MCP SSE Server**: Runs on `http://localhost:6300` with SSE transport at `/sse`
- **11 MCP Tool Classes**: Lua execution, process management, memory read/write, AOB scanning, disassembly, memory scanning, address list management, and more
- **Single DLL Plugin**: All dependencies embedded - just drop into Cheat Engine plugins folder
- **Direct MCP Integration**: Connect AI clients (Claude Desktop, VS Code Copilot, etc.) directly â€” no bridge client needed

## Requirements

- **Cheat Engine 7.6.2+** (minimum version with .NET Core plugin support)
- .NET 10.0 SDK
- **ASP.NET Core 10.0 Runtime** (`Microsoft.AspNetCore.App 10.0.x`)
- Windows OS (I don't have a mac but if you can run it then open an issue and let me know.)

> [!IMPORTANT]
> Cheat Engine 7.6.2 or newer is required. Older versions do not support .NET Core plugins.

> [!IMPORTANT]
> Cheat Engine ships with a `ce.runtimeconfig.json` targeting .NET 9.0. You **must** update it to .NET 10.0 for the MCP plugin to work.
> 
> Edit `ce.runtimeconfig.json` in your Cheat Engine installation directory and replace it with:
> ```json
> {
>   "runtimeOptions": {
>     "tfm": "net10.0",
>     "frameworks": [
>       {
>         "name": "Microsoft.NETCore.App",
>         "version": "10.0.0",
>         "rollForward": "latestMinor"
>       },
>       {
>         "name": "Microsoft.WindowsDesktop.App",
>         "version": "10.0.0",
>         "rollForward": "latestMinor"
>       },
>       {
>         "name": "Microsoft.AspNetCore.App",
>         "version": "10.0.0",
>         "rollForward": "latestMinor"
>       }
>     ]    
>   }
> }
> ```

> [!NOTE]
> If you get `Failure executing CESDK.CESDK:CEPluginInitialize (Result=80070002)`, you are missing the .NET 10.0 runtimes. Install them with:
> ```
> winget install Microsoft.DotNet.DesktopRuntime.10
> winget install Microsoft.DotNet.AspNetCore.10
> ```
> Or download from https://dotnet.microsoft.com/download/dotnet/10.0

## Installation

### Option 1: Download Pre-built DLLs (Recommended)

Pre-built Debug and Release DLLs are automatically generated by GitHub Actions on every commit:

1. Go to the [Actions tab](https://github.com/hedgehogform/ce-mcp/actions/workflows/build-dlls.yml) on GitHub
2. Click on the latest successful workflow run
3. Scroll down to the **Artifacts** section
4. Download either:
   - `ce-mcp-debug` - Debug build (larger, with debugging info)
   - `ce-mcp-release` - Release build (optimized, recommended for normal use)
5. Extract `ce-mcp.dll` from the downloaded ZIP
6. Copy `ce-mcp.dll` to your Cheat Engine plugins directory
7. Enable the plugin in Cheat Engine

### Option 2: Build from Source

1. Build the project: `dotnet build`
2. Copy `ce-mcp.dll` from `bin/x64/Debug/net10.0-windows/` to your Cheat Engine plugins directory
3. Enable the plugin in Cheat Engine

## Development

### Initial Setup

First, initialize the git submodule (CESDK):

```bash
git submodule update --init --recursive
```

If you cloned the repo without submodules, this command will download the required CESDK dependency.

### Building

```bash
# Build the C# plugin
dotnet build

# Build in Release mode
dotnet build -c Release
```

**Note**: If you encounter a `FodyCommon.dll` access denied error during restore/build, close your IDE and restart it to release the file lock.

### Testing

1. Build the plugin and copy to Cheat Engine plugins directory
2. Start Cheat Engine and enable the plugin
3. Use "MCP" menu to start the server
4. Connect your MCP client to `http://localhost:6300/sse`

### MCP Client Configuration

Add the following to your MCP client configuration (e.g. Claude Desktop `claude_desktop_config.json`):

```json
{
  "mcpServers": {
    "cheat-engine": {
      "url": "http://localhost:6300/sse"
    }
  }
}
```
